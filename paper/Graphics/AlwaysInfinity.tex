\tikzset{auto shift/.style={auto=right,->,
to path={ let \p1=(\tikztostart),\p2=(\tikztotarget),
\n1={atan2(\y2-\y1,\x2-\x1)},\n2={\n1+180}
in ($(\tikztostart.{\n1})!.32mm!270:(\tikztotarget.{\n2})$) --
($(\tikztotarget.{\n2})!.32mm!90:(\tikztostart.{\n1})$) \tikztonodes}}}
\begin{tikzpicture}
  [point/.style={draw, circle, inner sep=0pt, minimum size=1ex},
   node/.style={point, fill=black},
   edge/.style={>=stealth, ->, shorten >=1pt, shorten <=1pt},
   original edge/.style={edge, draw=black}]

  \node [node] (a) at (2,0) {};
  \node [node] (b) at (0.5,1) {};
  \node [node] (c) at (3.5,1.5) {};
  \node [node] (d) at (2,2.5) {};

  \draw (a) edge [original edge, ->] node[auto=left] {4} (b);
  \draw (a) edge [original edge, ->] node[auto=right] {2} (c);
  \draw (b) edge [original edge, ->] node[auto=left] {2} (d);
  \draw (c) edge [original edge, ->] node[auto=right] {3} (d);

  \getAngle{b}{c}
  \node[minimum size = -0.1cm] at ($(c)!-0.2!(b)$) (x) {};
  \node[right=-.1 of x] (wl) {1};

  \pgfmathadd{\myangle}{90};
  \let\inangle\pgfmathresult
  \pgfmathsubtract{\myangle}{90};
  \let\outangle\pgfmathresult
  \draw[original edge, ->] (d) to[out=\myangle,in=\inangle] (x) to[out=\outangle,in=\myangle] (a);



  \node [node] (a2) at (2   + 6,0) {};
  \node [node] (b2) at (0.5 + 6,1) {};
  \node [node] (c2) at (3.5 + 6,1.5) {};
  \node [node] (d2) at (2   + 6,2.5) {};

  \draw (a2) edge [original edge, auto shift, <-] node[auto=left] {4} node[right=1mm, pos=0.6] {$\infty$} (b2);
  \draw (b2) edge [original edge, auto shift, <-] (a2);
  \draw (a2) edge [original edge, auto shift, <-] node[left=1mm, pos=0.6] {2} node[right=1mm, pos=0.4] {$\infty$} (c2);
  \draw (c2) edge [original edge, auto shift, <-] (a2);
  \draw (b2) edge [original edge, auto shift, <-] node[auto=left] {2} node[right=1mm, pos=0.4] {$\infty$} (d2);
  \draw (d2) edge [original edge, auto shift, <-] (b2);
  \draw (c2) edge [original edge, auto shift, <-] node[left=2mm, pos=0.3] {3} node[right=1mm, pos=0.65] {$\infty$} (d2);
  \draw (d2) edge [original edge, auto shift, <-] (c2);
  \draw (b2) edge [original edge, auto shift, <-, dashed] node[above] {$\infty$} node[below] {$\infty$} (c2);
  \draw (c2) edge [original edge, auto shift, <-, dashed] (b2);

  \getAngle{b2}{c2}
  \node[minimum size = -0.1cm] at ($(c2)!-0.2!(b2)$) (x2) {};
  \node[right=-.1 of x2] (wl) {1};
  \node[left=-.15 of x2] (wl) {$\infty$};

  \pgfmathadd{\myangle}{90};
  \let\inangle\pgfmathresult
  \pgfmathsubtract{\myangle}{90};
  \let\outangle\pgfmathresult
  \draw[original edge, ->] (d2.30) to[out=\myangle,in=\inangle] (x2.70) to[out=\outangle,in=\myangle] (a2.-30);
  \draw[original edge, <-] (d2.-20) to[out=\myangle,in=\inangle] (x2.110) to[out=\outangle,in=\myangle] (a2);


  \draw[->, original edge] (-1.3,-0.2) -- node[right] {rank} (-1.3,2.7);
\end{tikzpicture}
